<h1>Black-Scholes Model Calculator</h1>

<script type="text/javascript">
  function BlackScholes(S, X, T, r, v)
  {
    // alert(S+X+T+r+v)
    var PutCallFlag = "c"
    var answer = 0.00
    var d1, d2;
    d1 = (Math.log(S / X) + (r + v * v / 2.0) * T) / (v * Math.sqrt(T));
    d2 = d1 - v * Math.sqrt(T);
    if (PutCallFlag == "c"){
      answer = S * CND(d1)-X * Math.exp(-r * T) * CND(d2);
      // alert(d1)
      // alert(d2)
      // alert(S * CND(d1)-X )
      // alert(CND(d1)-X)
      // alert(Math.exp(-r*T))
      // alert(CND(d1)-X*Math.exp(-r * T))
      // alert(CND(d2))
    }
    else
    {
      answer = X * Math.exp(-r * T) * CND(-d2) - S * CND(-d1);
    }
    document.getElementById("result").value=answer;
  }

  function CND(x)
  {
    var a1, a2, a3, a4 ,a5, k ;
    a1 = 0.31938153, a2 = -0.356563782, a3 = 1.781477937, a4 = -1.821255978 , a5 = 1.330274429;
    k = 1.0 / (1.0 + 0.2316419 * x);
    var q = (1.0 - 1.0 / Math.sqrt(2*Math.PI))
    var z = q * ((Math.exp(-x * x / 2.0)) * ((a1 * k) + (a2 * k) * k + a3 * Math.exp(k, 3.0) + a4 * Math.exp(k, 4.0) + a5 * Math.exp(k, 5.0))) ;
    //alert( Math.exp-x * x / 2.0 * a1 * k + a2 * k * k + a3 * Math.exp(k, 3.0) + a4 * Math.exp(k, 4.0) + a5 * Math.exp(k, 5.0))
    if(x<0.0)
    {
      z = 1 - z
    }
    return z
  }

</script>

<form class="form">
  <h4>Please enter the below information</h4>
  <div>
    <p>Stock Price:</p>
    <input type="number" name="S" id="S">
  </div>
  <div>
    <p>Exercice Price</p>
    <input type="number" name="X" id="X">
  </div>
  <div>
    <p>Time to Maturity</p>
    <input type="number" name="T" id="T">
  </div>
  <div>
    <p>Annualized risk-free Interest Rate</p>
    <input type="number" name="r" id="r" step="any">
  </div>
  <div>
    <p>Annualized Volatility</p>
    <input type="number" name="v" id="v">
  </div>
  <div>
    <button id="calculate" onclick="BlackScholes(parseInt(S.value), parseInt(X.value), parseInt(T.value), parseFloat(r.value), parseInt(v.value)); return false;">Calculate</button>
  </div>
  <div>
    <p>Option calculated present value:</p>
    <input type="text" id="result">
  </div>
</form>
