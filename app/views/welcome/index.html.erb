<head>
  <h1>Black-Scholes Model Calculator</h1>
  <link rel="stylesheet" href="index.css"/>
</head>

<script type="text/javascript">
  function BlackScholes(S, X, T, r, v)
  {
    var PutCallFlag = "c"
    var answer = 0.00;
    var d1, d2;
    d1 = (Math.log(S / X) + (r + v * v / 2.0) * T) / (v * Math.sqrt(T));

    d2 = d1 - v * Math.sqrt(T);

    if (PutCallFlag == "c"){
      answer = S * CND(d1)-X * Math.exp(-r * T) * CND(d2);
    }
    //Unused portion of formula for put options. May build out in future.
    else
    {
      answer = X * Math.exp(-r * T) * CND(-d2) - S * CND(-d1);
    }
    document.getElementById("result").value = answer
  }

  function CND(x){

    var a1, a2, a3, a4 ,a5, k ;

    a1 = 0.31938153, a2 =-0.356563782, a3 = 1.781477937, a4= -1.821255978 , a5= 1.330274429;

    if(x<0.0)
      return 1-CND(-x);
    else
      k = 1.0 / (1.0 + 0.2316419 * x);
    return 1.0 - Math.exp(-x * x / 2.0)/ Math.sqrt(2*Math.PI) * k
      * (a1 + k * (a2 + k * (a3 + k * (a4 + k * a5)))) ;

  }

</script>
<body>
  <form class="form">
    <h4>Please enter the below information</h4>
    <div>
      <p>Stock Price:</p>
      <input type="number" name="S" id="S">
    </div>
    <div>
      <p>Exercice Price</p>
      <input type="number" name="X" id="X">
    </div>
    <div>
      <p>Time to Maturity</p>
      <input type="number" name="T" id="T">
    </div>
    <div>
      <p>Annualized risk-free Interest Rate (ex: 2% entered as 0.02)</p>
      <input type="number" name="r" id="r" step="any">
    </div>
    <div>
      <p>Annualized Volatility (ex: 20% entered as 0.2)</p>
      <input type="number" name="v" id="v" step="any">
    </div>
    <div>
      <button id="calculate" onclick="BlackScholes(parseInt(S.value), parseInt(X.value), parseInt(T.value), parseFloat(r.value), parseFloat(v.value)); return false;">Calculate</button>
    </div>
    <div>
      <p>Option calculated present value:</p>
      <input type="text" id="result"/>
      <!-- <div id="result"></div> -->
    </div>
  </form>
</body>
